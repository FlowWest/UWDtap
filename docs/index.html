<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="This package supports California urban water data analysis 
  by pulling and compilinig data across 4 state wide reporting requirements: 
  the Urban Water Management Plan, The Conservation Report, The Water Loss Audit, 
  and the Electronic Annual Report. ">
<title>Pull and Combine Urban Water Reporting Datasets • UWDtap</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Pull and Combine Urban Water Reporting Datasets">
<meta property="og:description" content="This package supports California urban water data analysis 
  by pulling and compilinig data across 4 state wide reporting requirements: 
  the Urban Water Management Plan, The Conservation Report, The Water Loss Audit, 
  and the Electronic Annual Report. ">
<meta property="og:image" content="https://flowwest.github.io/UWDtap/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">UWDtap</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="uwdtap-">UWDtap 
<a class="anchor" aria-label="anchor" href="#uwdtap-"></a>
</h1>
</div>
</div>
<div class="section level1">
<h1 id="what-is-uwdtap">What is UWDtap?<a class="anchor" aria-label="anchor" href="#what-is-uwdtap"></a>
</h1>
<p>UWDtap connects four distinct water reporting datasets to allow users to download and compile urban water data across reporting requirements with a single function call. UWDtap pulls data from the following reports:</p>
<ul>
<li><a href="https://data.ca.gov/dataset/drinking-water-public-water-system-operations-monthly-water-production-and-conservation-information" class="external-link">Conservation Report (CR)</a></li>
<li><a href="https://www.waterboards.ca.gov/drinking_water/certlic/drinkingwater/eardata.html" class="external-link">Electronic Annual Report (EAR)</a></li>
<li><a href="https://wuedata.water.ca.gov/" class="external-link">Urban Water Management Plan (UWMP)</a></li>
<li><a href="https://wuedata.water.ca.gov/public/awwa_data_export/water_audit_data_conv_to_af.xls" class="external-link">Water Loss Audit (WLA)</a></li>
</ul>
<p>Many retail and wholesale water agencies across California are required to submit these reports to the Department of Water Resources or the State Water Board. Currently a user must dowload many datasets from 4 distinct web portals to preform any analysis on urban water data. The data are not standardized across reporting requirements even through many reporting requirements collect the same data. The goal of this package is to provide a service that pulls data and preforms basic standardization - generating analysis ready data.</p>
</div>
<div class="section level1">
<h1 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h1>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"flowwest/UWDtap"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level1">
<h1 id="basic-usage">Basic Usage<a class="anchor" aria-label="anchor" href="#basic-usage"></a>
</h1>
<p>UWDtap exposes several useful functions to pull and visualize data urban water reporting data. The main function in the package is <code><a href="reference/pull_data.html">pull_data()</a></code>,</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># download data from all reporting requirements for 2020</span></span>
<span><span class="va">urban_water_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/pull_data.html">pull_data</a></span><span class="op">(</span>year_selection <span class="op">=</span> <span class="fl">2020</span><span class="op">)</span></span></code></pre></div>
<p>The data returned,</p>
<pre><code>urban_water_data |&gt; glimpse()

Rows: 1,120,132
Columns: 9
$ report_name   &lt;chr&gt; "UWMP", "UWMP", "UWMP", "UWMP", "UWMP", "UWMP", "UWMP", "UWMP", "UWMP", "UWMP", "UWMP", "UWMP", "UWMP", …
$ pwsid         &lt;chr&gt; "CA3610001", "CA3610001", "CA3610001", "CA3610001", "CA3610001", "CA3610001", "CA3610001", "CA0110001", …
$ supplier_name &lt;chr&gt; "Adelanto  City Of", "Adelanto  City Of", "Adelanto  City Of", "Adelanto  City Of", "Adelanto  City Of",…
$ year          &lt;dbl&gt; 2020, 2020, 2020, 2020, 2020, 2020, 2020, 2020, 2020, 2020, 2020, 2020, 2020, 2020, 2020, 2020, 2020, 20…
$ month         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ category      &lt;chr&gt; "demand", "demand", "demand", "demand", "demand", "demand", "demand", "demand", "demand", "demand", "dem…
$ use_type      &lt;chr&gt; "multi-family", "commercial", "industrial", "landscape", "other potable", "losses", "single family", "in…
$ volume_af     &lt;dbl&gt; 162, 809, 0, 82, 1, 987, 2606, 2410, 4245, 1064, 5463, 83, 4483, 1569, 0, 7190, 463, 18762, 7813, 2994, …
$ use_group     &lt;chr&gt; "residential", "commerical industrial institutional", "commerical industrial institutional", "landscape"…</code></pre>
<p>Visualize these data for a specific category and pwsid,</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">urban_water_data</span> <span class="op">|&gt;</span> </span>
<span>     <span class="fu"><a href="reference/plot_data.html">plot_data</a></span><span class="op">(</span>selected_category <span class="op">=</span> <span class="st">"supply"</span>,</span>
<span>               pwsid <span class="op">=</span> <span class="st">""</span>, </span>
<span>               show_subcategories <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>Note: The package does not QA/QC data. It does preform basic mapping of fields so that data can be compared across reports.</p>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://data.ca.gov/dataset/drinking-water-public-water-system-operations-monthly-water-production-and-conservation-information" class="external-link">Monthly Conservation Report</a></li>
<li><a href="https://www.waterboards.ca.gov/drinking_water/certlic/drinkingwater/eardata.html" class="external-link">Electronic Annual Report</a></li>
<li><a href="https://wuedata.water.ca.gov/" class="external-link">Urban Water Managment Plan</a></li>
<li><a href="https://wuedata.water.ca.gov/public/awwa_data_export/water_audit_data_conv_to_af.xls" class="external-link">Water Loss Audit</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>CC0</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing uwdtap</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Ashley Vizek <br><small class="roles"> Maintainer </small>  </li>
<li>Erin Cain <br><small class="roles"> Author </small>  </li>
<li>Liz Stebbins <br><small class="roles"> Author </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Ashley Vizek, Erin Cain, Liz Stebbins.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
